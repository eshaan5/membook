{"version":3,"sources":["images/logo.png","components/Navbar/style.js","components/Navbar/Navbar.jsx","api/index.js","state/index.js","components/Form/style.js","components/Form/Form.jsx","components/Posts/Post/style.js","components/Posts/Post/Post.jsx","components/Posts/style.js","components/Posts/Posts.jsx","components/Home/style.js","components/styles.js","components/Pagination.jsx","components/Home/Home.jsx","components/Auth/Input.jsx","components/Auth/styles.js","components/Auth/Auth.jsx","components/PostDetails/styles.js","components/PostDetails/CommentSection.jsx","components/PostDetails/PostDetails.jsx","firebase.js","App.js","store.js","index.js"],"names":["module","exports","makeStyles","theme","appBar","borderRadius","margin","display","flexDirection","justifyContent","alignItems","padding","maxHeight","marginTop","heading","color","textDecoration","image","marginLeft","toolbar","width","profile","userName","brandContainer","purple","palette","getContrastText","deepPurple","backgroundColor","Navbar","logout","classes","useStyles","navigate","useNavigate","user","useSelector","state","app","token","useEffect","decode","exp","Date","getTime","AppBar","className","position","to","style","Typography","variant","align","src","logo","alt","height","Toolbar","Avatar","displayName","charAt","name","photoURL","Button","onClick","component","Link","API","axios","create","baseURL","interceptors","request","use","req","localStorage","getItem","headers","Authorization","JSON","parse","fetchPosts","page","get","fetchPost","id","fetchPostsBySearch","searchQuery","search","tags","createPost","newPost","post","deletePost","delete","likePost","patch","commentPost","comment","signIn","formData","signUp","initialState","posts","isLoading","data","currentPage","numberOfPages","signin","createAsyncThunk","rejectWithValue","api","setLogin","response","signup","getPost","getPostsBySearch","_id","updatePost","currentId","postData","updatedPost","finalComment","appSlice","createSlice","reducers","setPosts","action","payload","setItem","stringify","setLogout","setPost","updatedPosts","map","extraReducers","fulfilled","rejected","console","log","error","message","pending","push","filter","result","actions","root","spacing","paper","form","flexWrap","fileInput","buttonSubmit","marginBottom","Form","setCurrentId","useState","title","caption","selectedFile","setPostData","dispatch","useDispatch","find","p","clear","Paper","elevation","autoComplete","noValidate","onSubmit","e","preventDefault","TextField","label","fullWidth","value","onChange","target","split","type","multiple","onDone","base64","size","media","paddingTop","backgroundBlendMode","border","fullHeightCard","card","overlay","top","left","overlay2","right","grid","details","cardActions","cardAction","textAlign","Post","Likes","likes","length","like","uid","fontSize","Card","raised","ButtonBase","CardMedia","moment","createdAt","fromNow","creator","stopPropagation","CardContent","gutterBottom","tag","CardActions","disabled","mainContainer","smMargin","actionDiv","Posts","CircularProgress","Grid","container","key","item","xs","sm","md","lg","breakpoints","down","ul","Paginate","Number","Pagination","count","renderItem","PaginationItem","Home","query","URLSearchParams","useLocation","setSearch","setTags","Grow","in","Container","maxWidth","gridContainer","appBarSearch","onAdd","onDelete","tagToDelete","trim","join","searchButton","pagination","Input","half","autoFocus","handleChange","handleShow","password","required","InputProps","endAdornment","InputAdornment","IconButton","Visibility","VisibilityOff","avatar","secondary","main","submit","googleButton","firstName","lastName","email","confirmPassword","Auth","signInWithGoogle","isSignup","setIsSignup","setFormData","showPassword","setShowPassword","prevShowPassword","prevIsSignup","objectFit","section","flex","imageSection","recommendedPosts","loadingPaper","commentsOuterContainer","commentsInnerContainer","overflowY","marginRight","CommentSection","comments","setComments","setComment","commentsRef","useRef","handleCommentSubmit","current","scrollIntoView","behavior","index","ref","minRows","multiline","PostDetails","useParams","Divider","cursor","firebaseConfig","apiKey","process","FIREBASE_API","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firebase","initializeApp","getAuth","App","googleProvider","GoogleAuthProvider","signInWithPopup","then","credentialFromResult","idToken","catch","removeItem","path","element","configureStore","reducer","appReducer","ReactDOM","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.f65dc8a3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5c0c63fb.png\";","import { makeStyles } from \"@material-ui/core/styles\";\r\nimport { deepPurple } from \"@material-ui/core/colors\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  appBar: {\r\n    borderRadius: 15,\r\n    margin: \"13px 0\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    padding: \"10px 50px\",\r\n    maxHeight: \"12vh\",\r\n    marginTop: \"4px\",\r\n  },\r\n  heading: {\r\n    color: \"#DD00FF\",\r\n    textDecoration: \"none\",\r\n  },\r\n  image: {\r\n    marginLeft: \"15px\",\r\n  },\r\n  toolbar: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    width: \"400px\",\r\n  },\r\n  profile: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    width: \"400px\",\r\n  },\r\n  userName: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  brandContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  purple: {\r\n    color: theme.palette.getContrastText(deepPurple[500]),\r\n    backgroundColor: deepPurple[500],\r\n  },\r\n}));\r\n","import React, { useEffect } from \"react\";\r\nimport { AppBar, Avatar, Toolbar, Typography, Button } from \"@material-ui/core\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nimport useStyles from \"./style\";\r\nimport logo from \"../../images/logo.png\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport decode from \"jwt-decode\";\r\n\r\nconst Navbar = ({ logout }) => {\r\n  const classes = useStyles();\r\n  const navigate = useNavigate();\r\n\r\n  const user = useSelector((state) => state.app.user);\r\n  const token = useSelector((state) => state.app.token);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [user]);\r\n\r\n  // this is to check if the token is expired or not\r\n  useEffect(() => {\r\n    if (token) {\r\n      const decodedToken = decode(token);\r\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\r\n    }\r\n  }, [token]);\r\n\r\n  return (\r\n    <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\r\n      <Link to=\"/\" className={classes.brandContainer} style={{ textDecoration: 'none' }}>\r\n        <Typography className={classes.heading} variant=\"h2\" align=\"center\">\r\n          MemBook\r\n        </Typography>\r\n        <img className={classes.image} src={logo} alt=\"logo\" height=\"60\" />\r\n      </Link>\r\n      <Toolbar className={classes.toolbar}>\r\n        {user ? (\r\n          <div className={classes.profile}>\r\n            <Avatar className={classes.purple} alt={user.displayName?.charAt(0) || user.name[0]} src={user.photoURL}>\r\n              {user.displayName?.charAt(0) || user.name[0]}\r\n            </Avatar>\r\n            <Typography className={classes.userName} variant=\"h6\">\r\n              {user?.displayName || user?.name}\r\n            </Typography>\r\n            <Button variant=\"contained\" className={classes.logout} color=\"secondary\" onClick={logout}>\r\n              Logout\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <Button component={Link} to=\"/auth\" variant=\"contained\" color=\"primary\">\r\n            Sign In\r\n          </Button>\r\n        )}\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import axios from 'axios';  // for api calls\r\n\r\nconst API = axios.create({ baseURL: 'https://membook-server.vercel.app' });  // create an instance of axios to use baseURL\r\n\r\nAPI.interceptors.request.use((req) => {  // this callback function will run before every request\r\n    if(localStorage.getItem('token')) {  // if user is logged in\r\n        req.headers.Authorization = `Bearer ${JSON.parse(localStorage.getItem('token'))}`;  // add token to headers\r\n    }\r\n\r\n    return req;  // return request\r\n});\r\n\r\nexport const fetchPosts = (page) => API.get(`/posts?page=${page}`);\r\nexport const fetchPost = (id) => API.get(`/posts/${id}`);\r\nexport const fetchPostsBySearch = (searchQuery) => API.get(`/posts/search?searchQuery=${searchQuery.search || 'none'}&tags=${searchQuery.tags}`)\r\nexport const createPost = (newPost) => API.post('/posts', newPost);\r\nexport const updatePost = (id, updatedPost) => API.patch(`/posts/${id}`, updatedPost);\r\nexport const deletePost = (id) => API.delete(`/posts/${id}`);\r\nexport const likePost = (id) => API.patch(`/posts/${id}/likePost`);\r\nexport const commentPost = (comment, id) => API.post(`/posts/${id}/commentPost`, { comment });\r\n\r\nexport const signIn = (formData) => API.post('/user/signin', formData);  // for signing in\r\nexport const signUp = (formData) => API.post('/user/signup', formData);  // for signing up","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport * as api from \"../api\";\r\n\r\nconst initialState = {\r\n  posts: {\r\n    isLoading: true,\r\n    data: [],\r\n    currentPage: 1,\r\n    numberOfPages: 1,\r\n    post: null,\r\n  },\r\n  user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : null,\r\n  token: localStorage.getItem(\"token\") ? JSON.parse(localStorage.getItem(\"token\")) : null,\r\n}; // state which is shared all over the app\r\n\r\nexport const signin = createAsyncThunk(\"app/signin\", async (formData, { rejectWithValue }) => {\r\n  try {\r\n    const { data } = await api.signIn(formData);\r\n    setLogin(data);\r\n    //navigate('/');\r\n\r\n    return data;\r\n  } catch (error) {\r\n    return rejectWithValue(error.response.data);\r\n  }\r\n});\r\n\r\nexport const signup = createAsyncThunk(\"app/signup\", async (formData, { rejectWithValue }) => {\r\n  try {\r\n    const { data } = await api.signUp(formData);\r\n\r\n    return data;\r\n  } catch (error) {\r\n    return rejectWithValue(error.response.data);\r\n  }\r\n});\r\n\r\nexport const fetchPosts = createAsyncThunk(\"posts/fetchPosts\", async (page) => {\r\n  const { data } = await api.fetchPosts(page);\r\n  return data;\r\n});\r\n\r\nexport const getPost = createAsyncThunk(\"posts/fetchPost\", async (id) => {\r\n  const { data } = await api.fetchPost(id);\r\n  return data;\r\n});\r\n\r\nexport const getPostsBySearch = createAsyncThunk(\"posts/getPostsBySearch\", async (searchQuery) => {\r\n  const { data } = await api.fetchPostsBySearch(searchQuery);\r\n  return data;\r\n});\r\n\r\nexport const createPost = createAsyncThunk(\"posts/createPost\", async ({newPost, navigate}) => {\r\n  const { data } = await api.createPost(newPost);\r\n  navigate(`/posts/${data._id}`);\r\n  return data;\r\n});\r\n\r\nexport const updatePost = createAsyncThunk(\"posts/updatePost\", async ({ currentId, postData, navigate }) => {\r\n  // this accepts single argument\r\n  const { data } = await api.updatePost(currentId, postData);\r\n  navigate(`/posts/${data._id}`);\r\n  return data;\r\n});\r\n\r\nexport const deletePost = createAsyncThunk(\"posts/deletePost\", async (id) => {\r\n  await api.deletePost(id);\r\n  return id;\r\n});\r\n\r\nexport const likePost = createAsyncThunk(\"posts/likePost\", async (id) => {\r\n  const { data } = await api.likePost(id);\r\n  return data;\r\n});\r\n\r\nexport const commentPost = createAsyncThunk(\"posts/commentPost\", async ({finalComment, id}) => {\r\n\r\n  const { data } = await api.commentPost(finalComment, id);\r\n  return data;\r\n});\r\n\r\nexport const appSlice = createSlice({\r\n  name: \"app\",\r\n  initialState,\r\n  reducers: {\r\n    setPosts: (state, action) => {\r\n      state.posts = action.payload.posts; // here we're not mutating the state, under the hood redux toolkit has a library called immer which allows us to mutate the state\r\n    },\r\n    setLogin: (state, action) => {\r\n      state.user = action.payload;\r\n      state.token = action.payload.token;\r\n\r\n      localStorage.setItem(\"user\", JSON.stringify(action.payload));\r\n      localStorage.setItem(\"token\", JSON.stringify(action.payload.token));\r\n    },\r\n    setLogout: (state) => {\r\n      state.user = null;\r\n      state.token = null;\r\n    },\r\n    setPost: (state, action) => {\r\n      const updatedPosts = state.posts.map((post) => {\r\n        if (post._id === action.payload.post._id) {\r\n          return action.payload.post;\r\n        }\r\n        return post;\r\n      });\r\n      state.posts = updatedPosts;\r\n    },\r\n  },\r\n\r\n  extraReducers: {\r\n    [fetchPosts.fulfilled]: (state, action) => {\r\n      state.posts = { isLoading: false, data: action.payload.data, currentPage: action.payload.currentPage, numberOfPages: action.payload.numberOfPages };\r\n    },\r\n    [fetchPosts.rejected]: (state, action) => {\r\n      console.log(action.error.message);\r\n    },\r\n    [fetchPosts.pending]: (state, action) => {\r\n      state.posts.isLoading = true;\r\n    },\r\n    [createPost.fulfilled]: (state, action) => {\r\n    state.posts.isLoading = false;\r\n      state.posts.data.push(action.payload);\r\n    },\r\n    [createPost.rejected]: (state, action) => {\r\n      console.log(action.error.message);\r\n    },\r\n    [createPost.pending]: (state, action) => {\r\n      state.posts.isLoading = true;\r\n    },\r\n    [updatePost.fulfilled]: (state, action) => {\r\n      const updatedPosts = state.posts.data.map((post) => {\r\n        if (post._id === action.payload._id) {\r\n          return action.payload;\r\n        }\r\n        return post;\r\n      });\r\n      state.posts.data = updatedPosts;\r\n    },\r\n    [updatePost.rejected]: (state, action) => {\r\n      console.log(action.error.message);\r\n    },\r\n    [updatePost.pending]: (state, action) => {\r\n      console.log(\"pending\");\r\n    },\r\n    [deletePost.fulfilled]: (state, action) => {\r\n      state.posts.data = state.posts.data.filter((post) => post._id !== action.payload);\r\n    },\r\n    [deletePost.rejected]: (state, action) => {\r\n      console.log(action.error.message);\r\n    },\r\n    [deletePost.pending]: (state, action) => {\r\n      console.log(\"pending\");\r\n    },\r\n    [likePost.fulfilled]: (state, action) => {\r\n      const updatedPosts = state.posts.data.map((post) => {\r\n        if (post._id === action.payload._id) {\r\n          return action.payload;\r\n        }\r\n        return post;\r\n      });\r\n      state.posts.data = updatedPosts;\r\n    },\r\n    [likePost.rejected]: (state, action) => {\r\n      console.log(action.error.message);\r\n    },\r\n    [likePost.pending]: (state, action) => {\r\n      console.log(\"pending\");\r\n    },\r\n    [signin.fulfilled]: (state, action) => {\r\n      state.user = action.payload.result;\r\n      state.token = action.payload.token;\r\n\r\n      localStorage.setItem(\"user\", JSON.stringify(action.payload.result));\r\n      localStorage.setItem(\"token\", JSON.stringify(action.payload.token));\r\n      state.posts.isLoading = false;\r\n    },\r\n    [signin.rejected]: (state, action) => {\r\n      console.log(action.error.message);\r\n    },\r\n    [signin.pending]: (state, action) => {\r\n      state.posts.isLoading = true;\r\n    },\r\n    [signup.fulfilled]: (state, action) => {\r\n      state.user = action.payload.result;\r\n      state.token = action.payload.token;\r\n\r\n      localStorage.setItem(\"user\", JSON.stringify(action.payload.result));\r\n      localStorage.setItem(\"token\", JSON.stringify(action.payload.token));\r\n      state.posts.isLoading = false;\r\n    },\r\n    [signup.rejected]: (state, action) => {\r\n      console.log(action.error.message);\r\n    },\r\n    [signup.pending]: (state, action) => {\r\n      state.posts.isLoading = true;\r\n    },\r\n    [getPostsBySearch.fulfilled]: (state, action) => {\r\n      state.posts.data = action.payload.data;\r\n      state.posts.isLoading = false;\r\n    },\r\n    [getPostsBySearch.rejected]: (state, action) => {\r\n      console.log(action.error.message);\r\n    },\r\n    [getPostsBySearch.pending]: (state, action) => {\r\n      state.posts.isLoading = true;\r\n    },\r\n    [getPost.fulfilled]: (state, action) => {\r\n      state.posts.post = action.payload;\r\n      state.posts.isLoading = false;\r\n    },\r\n    [getPost.rejected]: (state, action) => {\r\n      console.log(action.error.message);\r\n    },\r\n    [getPost.pending]: (state, action) => {\r\n      state.posts.isLoading = true;\r\n    },\r\n    [commentPost.fulfilled]: (state, action) => {\r\n      console.log(action.payload);\r\n      state.posts.data = state.posts.data.map((post) => {\r\n        if (post._id === action.payload._id) {\r\n          return action.payload;\r\n        }\r\n        return post;\r\n      });\r\n    },\r\n    [commentPost.rejected]: (state, action) => {\r\n      console.log(action.error.message);\r\n    },\r\n    [commentPost.pending]: (state, action) => {\r\n      console.log(\"pending\");\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setPosts, setLogin, setLogout, setPost } = appSlice.actions;\r\nexport default appSlice.reducer;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(3),\r\n  },\r\n  form: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  fileInput: {\r\n    width: '97%',\r\n    margin: '10px 0',\r\n  },\r\n  buttonSubmit: {\r\n    marginBottom: 10,\r\n  },\r\n  heading: {\r\n    marginBottom: 10,\r\n  },\r\n}));","import React, { useEffect, useState } from \"react\";\r\nimport { TextField, Paper, Button, Typography } from \"@material-ui/core\";\r\nimport FileBase from \"react-file-base64\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createPost, updatePost } from \"../../state/index\";\r\n\r\nimport useStyles from \"./style\";\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Form = ({ currentId, setCurrentId }) => {\r\n  const [postData, setPostData] = useState({\r\n    title: \"\",\r\n    caption: \"\",\r\n    tags: \"\",\r\n    selectedFile: \"\",\r\n  });\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const user = useSelector((state) => state.app.user);\r\n\r\n  const post = useSelector((state) => currentId ? state.app.posts.data.find((p) => p._id === currentId) : null);\r\n\r\n  useEffect(() => {\r\n    if(post) setPostData(post);\r\n  }, [post]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if(currentId) {\r\n      dispatch(updatePost(currentId, {...postData, name: `${user.name ? user.name : user.displayName}`}, navigate));\r\n    } else {\r\n    dispatch(createPost({...postData, name: `${user.name ? user.name : user.displayName}`}, navigate));\r\n    }\r\n    clear();\r\n  };\r\n\r\n  const clear = () => {\r\n    setCurrentId(null);\r\n    setPostData({\r\n      title: \"\",\r\n      caption: \"\",\r\n      tags: \"\",\r\n      selectedFile: \"\",\r\n    });\r\n  };\r\n\r\n  if(!user?.name && !user?.displayName) {\r\n    return (\r\n      <Paper className={classes.paper}>\r\n        <Typography variant=\"h6\" align=\"center\">\r\n          Please Sign In to create your own memories and like others' memories!\r\n        </Typography>\r\n      </Paper>\r\n    )\r\n  }\r\n\r\n  return <Paper className={classes.paper} elevation={6} >\r\n      <form autoComplete=\"off\" noValidate className={`${classes.form} ${classes.root}`} onSubmit={handleSubmit}>\r\n          <Typography variant=\"h6\" className={classes.heading}>Let's {currentId ? 'Edit' : 'Create'} a Memory!</Typography>\r\n          <TextField name=\"title\" variant=\"outlined\" label=\"Title\" fullWidth \r\n            value={postData.title} \r\n            onChange={(e) => setPostData({ ...postData, title: e.target.value })}\r\n            />\r\n          <TextField name=\"caption\" variant=\"outlined\" label=\"Caption\" fullWidth \r\n            value={postData.caption} \r\n            onChange={(e) => setPostData({ ...postData, caption: e.target.value })}\r\n            />\r\n          <TextField name=\"tags\" variant=\"outlined\" label=\"Tags\" fullWidth\r\n            value={postData.tags} \r\n            onChange={(e) => setPostData({ ...postData, tags: e.target.value.split(',') })}\r\n            />\r\n          <div className={classes.fileInput}>\r\n              <FileBase type=\"file\" multiple={false} onDone={({ base64 }) => setPostData({ ...postData, selectedFile: base64 })} />\r\n          </div>\r\n          <Button className={classes.buttonSubmit} variant=\"contained\" color=\"primary\" size=\"large\" type=\"submit\" fullWidth>Submit</Button>\r\n          <Button variant=\"contained\" color=\"secondary\" size=\"small\" fullWidth onClick={clear} >Clear</Button>\r\n      </form>\r\n  </Paper>;\r\n};\r\n\r\nexport default Form;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles({\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%',\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n    backgroundBlendMode: 'darken',\r\n  },\r\n  border: {\r\n    border: 'solid',\r\n  },\r\n  fullHeightCard: {\r\n    height: '100%',\r\n  },\r\n  card: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    borderRadius: '15px',\r\n    height: '100%',\r\n    position: 'relative',\r\n  },\r\n  overlay: {\r\n    position: 'absolute',\r\n    top: '20px',\r\n    left: '20px',\r\n    color: 'white',\r\n  },\r\n  overlay2: {\r\n    position: 'absolute',\r\n    top: '20px',\r\n    right: '20px',\r\n    color: 'white',\r\n  },\r\n  grid: {\r\n    display: 'flex',\r\n  },\r\n  details: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    margin: '20px',\r\n  },\r\n  title: {\r\n    padding: '0 16px',\r\n  },\r\n  cardActions: {\r\n    padding: '0 16px 8px 16px',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n  },\r\n  cardAction: {\r\n    display: 'block',\r\n    textAlign: 'initial',\r\n  },\r\n})","import React from \"react\";\r\nimport useStyles from \"./style\";\r\n\r\nimport { Card, CardActions, CardContent, CardMedia, Button, Typography, ButtonBase } from \"@material-ui/core\";\r\nimport ThumbUpOffAltIcon from \"@mui/icons-material/ThumbUpOffAlt\";\r\nimport ThumbUpOffAltOutlined from \"@mui/icons-material/ThumbUpOffAltOutlined\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport MoreHorizIcon from \"@mui/icons-material/MoreHoriz\";\r\nimport moment from \"moment\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { deletePost, likePost } from \"../../../state/index\";\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Post = ({ post, setCurrentId }) => {\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const navigate = useNavigate();\r\n\r\n  const user = useSelector((state) => state.app.user);\r\n\r\n  const Likes = () => {\r\n    if (post?.likes?.length > 0) {\r\n      return post.likes.find((like) => like === (user?.uid || user?._id)) ? (\r\n        <>\r\n          <ThumbUpOffAltIcon fontSize=\"small\" />\r\n          &nbsp;\r\n          {post.likes.length > 2\r\n            ? `You and ${post.likes.length - 1} others`\r\n            : `${post.likes.length} like${post.likes.length > 1 ? \"s\" : \"\"}`}\r\n        </>\r\n      ) : (\r\n        <>\r\n          <ThumbUpOffAltOutlined fontSize=\"small\" />\r\n          &nbsp;{post.likes.length} {post.likes.length === 1 ? \"Like\" : \"Likes\"}\r\n        </>\r\n      );\r\n    }\r\n    return (\r\n      <>\r\n        <ThumbUpOffAltOutlined fontSize=\"small\" />\r\n        &nbsp;Like\r\n      </>\r\n    );\r\n  }\r\n\r\n  const openPost = () => navigate(`/posts/${post._id}`);\r\n\r\n  return (\r\n    <Card className={classes.card} raised elevation={6}>\r\n      <ButtonBase className={classes.cardAction} onClick={openPost}>\r\n      <CardMedia className={classes.media} image={post.selectedFile} title={post.title} />\r\n      <div className={classes.overlay}>\r\n        <Typography variant=\"h5\">{post.name}</Typography>\r\n        <Typography variant=\"body2\">{moment(post.createdAt).fromNow()}</Typography>\r\n      </div>\r\n      <div className={classes.overlay2}>\r\n        {(user?.uid === post?.creator || user?._id === post?.creator) && (\r\n          <Button style={{ color: \"white\" }} size=\"small\" onClick={(e) => {\r\n            e.stopPropagation();\r\n            setCurrentId(post._id);\r\n          }}>\r\n          <MoreHorizIcon fontSize=\"default\" />\r\n        </Button>\r\n        )}\r\n      </div>\r\n      <CardContent>\r\n        <Typography className={classes.title} variant=\"h5\" gutterBottom>\r\n          {post.title}\r\n        </Typography>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" className={classes.title}>\r\n          {post.caption}\r\n        </Typography>\r\n        <div className={classes.details}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\">\r\n          {post.tags.map((tag) => `#${tag} `)}\r\n        </Typography>\r\n      </div>\r\n      </CardContent>\r\n      </ButtonBase>\r\n      <CardActions className={classes.cardActions}>\r\n        <Button size=\"small\" color=\"primary\" disabled={!user} onClick={() => {return dispatch(likePost(post._id))}}>\r\n          <Likes />\r\n        </Button>\r\n        {(user?.uid === post?.creator || user?._id === post?.creator) && (\r\n          <Button size=\"small\" color=\"primary\" onClick={() => {\r\n            dispatch(deletePost(post._id));\r\n            setCurrentId(null);\r\n          }}>\r\n            <DeleteIcon fontSize=\"small\" />\r\n          </Button>\r\n          )}\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Post;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  mainContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  smMargin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  actionDiv: {\r\n    textAlign: 'center',\r\n  },\r\n}));","import React from 'react'\r\nimport Post from './Post/Post'\r\n\r\nimport useStyles from './style'\r\nimport { Grid, CircularProgress } from '@material-ui/core'\r\n\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Posts = ({ setCurrentId }) => {\r\n\r\n    const posts = useSelector((state) => state.app.posts.data)\r\n    const isLoading = useSelector((state) => state.app.posts.isLoading)\r\n    const classes = useStyles()\r\n\r\n    if (!posts.length && !isLoading) return 'No posts'\r\n    \r\n  return (\r\n    <>\r\n        {isLoading ? <CircularProgress /> : (\r\n            <Grid className={classes.container} container alignItems=\"stretch\" spacing={3}>\r\n                {posts.map((post) => (\r\n                    <Grid key={post._id} item xs={12} sm={12} md={6} lg={4}>\r\n                        <Post post={post} setCurrentId={setCurrentId} />\r\n                    </Grid>\r\n                ))}\r\n            </Grid>\r\n        )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Posts","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n    appBar: {\r\n        borderRadius: 15,\r\n        margin: '15px 0',\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        maxHeight: '12vh',\r\n        marginTop: '4px',\r\n      },\r\n      heading: {\r\n        color: '#DD00FF',\r\n      },\r\n      image: {\r\n        marginLeft: '15px',\r\n      },\r\n      [theme.breakpoints.down('sm')]: { // media query of mui\r\n      container: {\r\n        flexDirection: 'column-reverse',\r\n      }\r\n    },\r\n    appBarSearch: {\r\n      borderRadius: 4,\r\n      marginBottom: '1rem',\r\n      display: 'flex',\r\n      padding: '16px',\r\n    },\r\n    pagination: {\r\n      borderRadius: 4,\r\n      marginTop: '1rem',\r\n      padding: '16px',\r\n    },\r\n    gridContainer: {\r\n      [theme.breakpoints.down('xs')]: {\r\n        flexDirection: 'column-reverse',\r\n      },\r\n    },\r\n}));","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles(() => ({\r\n    ul: {\r\n        justifyContent: \"space-around\",\r\n    },\r\n}));","import React, { useEffect } from \"react\";\r\nimport { Pagination, PaginationItem } from \"@material-ui/lab\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchPosts } from \"../state\";\r\n\r\nimport useStyles from './styles'\r\n\r\nconst Paginate = ({ page }) => {\r\n\r\n    const { numberOfPages } = useSelector((state) => state.app.posts)\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n       if(Number(page)) dispatch(fetchPosts(page));\r\n    }, [page]);\r\n\r\n    return (\r\n        <Pagination\r\n            classes={{ ul: classes.ul }}\r\n            count={numberOfPages}\r\n            page={Number(page) || 1}\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            renderItem={(item) => (\r\n                <PaginationItem {...item} component={Link} to={`/posts?page=${item.page}`} />\r\n            )}\r\n        />\r\n    );\r\n}\r\n\r\nexport default Paginate;","import React, { useState } from \"react\";\r\nimport { Container, Grow, Grid, Paper, AppBar, TextField, Button } from \"@material-ui/core\";\r\nimport Form from \"../Form/Form\";\r\nimport Posts from \"../Posts/Posts\";\r\n\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getPostsBySearch } from \"../../state/index\";\r\nimport useStyles from \"./style\";\r\n\r\nimport Pagination from \"../Pagination\";\r\n\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport ChipInput from \"material-ui-chip-input\"; // this is for giving tag like look to the input\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n} // this is for searching something from the url\r\n\r\nconst Home = () => {\r\n  const [currentId, setCurrentId] = useState(null);\r\n\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const query = useQuery();\r\n  const navigate = useNavigate();\r\n  const [search, setSearch] = useState(\"\");\r\n  const [tags, setTags] = useState([]);\r\n\r\n  const page = query.get(\"page\") || 1; // search for page in the url if not found then set it to 1\r\n  const searchQuery = query.get(\"searchQuery\"); // search for searchQuery in the url\r\n\r\n  const searchPost = () => {\r\n    if (search.trim() || tags) {\r\n      dispatch(getPostsBySearch({ search, tags: tags.join(\",\") })); // tags are converted to string and then passed\r\n      navigate(`/posts/search?searchQuery=${search || \"none\"}&tags=${tags.join(\",\")}`);\r\n    } else navigate(\"/\"); // if search is empty then navigate to the home page\r\n  };\r\n\r\n  const handleAdd = (tag) => setTags([...tags, tag]); // adding tag to the tags array\r\n  const handleDelete = (tagToDelete) => setTags(tags.filter((tag) => tag !== tagToDelete)); // deleting tag from the tags array\r\n\r\n  return (\r\n    <Grow in>\r\n      <Container maxWidth=\"xl\">\r\n        <Grid className={`${classes.gridContainer} ${classes.container}`} container justifyContent=\"space-between\" alignItems=\"stretch\" spacing={3}>\r\n          <Grid item xs={12} sm={6} md={9}>\r\n            <Posts setCurrentId={setCurrentId} />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6} md={3}>\r\n            <AppBar className={classes.appBarSearch} position=\"static\" color=\"inherit\">\r\n              <TextField name=\"search\" value={search} label=\"Let's Search some Memories!\" fullWidth onChange={(e) => setSearch(e.target.value)} variant=\"outlined\" />\r\n              <ChipInput style={{ margin: \"10px 0\" }} value={tags} onAdd={handleAdd} onDelete={handleDelete} label=\"Search Tags!\" variant=\"outlined\" />\r\n              <Button onClick={searchPost} className={classes.searchButton} variant=\"contained\" color=\"primary\" fullWidth>\r\n                Search\r\n              </Button>\r\n            </AppBar>\r\n            <Form currentId={currentId} setCurrentId={setCurrentId} />\r\n            {!searchQuery && !tags.length && (\r\n              <Paper className={classes.pagination} elevation={6}>\r\n                <Pagination page={page} />\r\n              </Paper>\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </Grow>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { TextField, Grid, InputAdornment, IconButton } from \"@material-ui/core\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\n\r\nconst Input = ({ half, name, label, autoFocus, type, handleChange, handleShow, password }) => {\r\n  return (\r\n    <Grid item xs={6} sm={half ? 6 : 12}>\r\n      <TextField\r\n        name={name}\r\n        onChange={handleChange}\r\n        variant=\"outlined\"\r\n        required\r\n        fullWidth\r\n        label={label}\r\n        autoFocus={autoFocus}\r\n        type={type}\r\n        InputProps={\r\n          (name === \"password\") ? {\r\n            endAdornment: (\r\n              <InputAdornment position=\"end\">\r\n                <IconButton onClick={handleShow}>{password ? <Visibility /> : <VisibilityOff />}</IconButton>\r\n              </InputAdornment>\r\n            ),\r\n          } : null\r\n        }\r\n      />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(2),\r\n  },\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  googleButton: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));","import React, { useState } from \"react\";\r\nimport { Avatar, Button, Typography, Container, Grid, Paper } from \"@material-ui/core\";\r\nimport LockOutlinedIcon from \"@mui/icons-material/LockOutlined\";\r\nimport GoogleIcon from \"@mui/icons-material/Google\";\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport Input from \"./Input\";\r\n\r\nimport useStyles from \"./styles\";\r\n\r\nimport { signin, signup } from \"../../state/index\"\r\n\r\nconst initialState = { firstName: \"\", lastName: \"\", email: \"\", password: \"\", confirmPassword: \"\" };\r\n\r\nconst Auth = ({ signInWithGoogle }) => {\r\n  const classes = useStyles();\r\n  const [isSignup, setIsSignup] = useState(false);\r\n  const [formData, setFormData] = useState(initialState);\r\n\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const handlePassword = () => setShowPassword((prevShowPassword) => !prevShowPassword);\r\n  const switchMode = () => {\r\n    setIsSignup((prevIsSignup) => !prevIsSignup);\r\n    setShowPassword(false);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n\r\n    e.preventDefault();\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    \r\n    if(isSignup) {\r\n      dispatch(signup(formData, navigate));\r\n      console.log('signup started')\r\n    }\r\n    else {\r\n      dispatch(signin(formData, navigate));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Paper className={classes.paper} elevation={3}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography variant=\"h5\">{isSignup ? \"Sign Up\" : \"Sign In\"}</Typography>\r\n        <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit} onClick={signInWithGoogle}>\r\n          Sign In with Google <GoogleIcon />\r\n        </Button>\r\n        <form className={classes.form} onSubmit={handleSubmit} >\r\n          <Grid container spacing={2}>\r\n            {isSignup && (\r\n              <>\r\n                <Input name=\"firstName\" label=\"First Name\" handleChange={handleChange} autoFocus half />\r\n                <Input name=\"lastName\" label=\"Last Name\" handleChange={handleChange} half />\r\n              </>\r\n            )}\r\n            <Input name=\"email\" label=\"Email Address\" handleChange={handleChange} type=\"email\" autoFocus={!isSignup} />\r\n            <Input name=\"password\" label=\"Password\" type={showPassword ? \"text\" : \"password\"} handleChange={handleChange} handleShow={handlePassword} password={showPassword} />\r\n            {isSignup && <Input name=\"confirmPassword\" label=\"Confirm Password\" type=\"password\" handleChange={handleChange} />}\r\n          </Grid>\r\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\r\n            {isSignup ? \"Sign Up\" : \"Sign In\"}\r\n          </Button>\r\n          <Grid container justifyContent=\"flex-end\">\r\n            <Grid item>\r\n              <Button onClick={switchMode} variant=\"outlined\">\r\n                {!isSignup ? \"Don't have an account? Sign Up\" : \"Already have an account? Sign In\"}\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  media: {\r\n    borderRadius: '20px',\r\n    objectFit: 'cover',\r\n    width: '100%',\r\n    maxHeight: '600px',\r\n\r\n  },\r\n  card: {\r\n    display: 'flex',\r\n    width: '100%',\r\n    [theme.breakpoints.down('sm')]: {\r\n      flexWrap: 'wrap',\r\n      flexDirection: 'column',\r\n    },\r\n  },\r\n  section: {\r\n    borderRadius: '20px',\r\n    margin: '10px',\r\n    flex: 1,\r\n  },\r\n  imageSection: {\r\n    marginLeft: '20px',\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginLeft: 0,\r\n    },\r\n  },\r\n  recommendedPosts: {\r\n    display: 'flex',\r\n    [theme.breakpoints.down('sm')]: {\r\n      flexDirection: 'column',\r\n    },\r\n  },\r\n  loadingPaper: {\r\n    display: 'flex', justifyContent: 'center', alignItems: 'center', padding: '20px', borderRadius: '15px', height: '39vh',\r\n  },\r\n  commentsOuterContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n  },\r\n  commentsInnerContainer: {\r\n    height: '200px',\r\n    overflowY: 'auto',\r\n    marginRight: '30px',\r\n  },\r\n}));","import React, { useState, useRef } from \"react\";\r\nimport { Typography, TextField, Button } from \"@material-ui/core\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport useStyles from \"./styles\";\r\n\r\nimport { commentPost } from \"../../state/index\";\r\n\r\nconst CommentSection = ({ post }) => {\r\n  const classes = useStyles();\r\n  const [comments, setComments] = useState(post?.comments);\r\n  const [comment, setComment] = useState(\"\");\r\n  const commentsRef = useRef();\r\n\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((state) => state.app.user);\r\n\r\n  const handleCommentSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const finalComment = `${user.displayName ? user.displayName : user.name}: ${comment}`;\r\n\r\n    const newPost = await dispatch(commentPost({finalComment, id: post._id}));\r\n    setComments(newPost.payload.comments);\r\n    setComment(\"\");\r\n\r\n    commentsRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className={classes.commentsOuterContainer}>\r\n        <div className={classes.commentsInnerContainer}>\r\n          <Typography gutterBottom variant=\"h6\">\r\n            Comments\r\n          </Typography>\r\n          {comments.map((comment, index) => (\r\n            <Typography key={index} gutterBottom variant=\"subtitle1\">\r\n              <strong>{comment.split(\": \")[0]}</strong>\r\n              {comment.split(\":\")[1]}\r\n            </Typography>\r\n          ))}\r\n          <div ref={commentsRef} />\r\n        </div>\r\n        {user && (\r\n        <div style={{ width: \"70%\" }}>\r\n          <Typography gutterBottom variant=\"h6\">\r\n            Write a Comment!\r\n          </Typography>\r\n          <TextField fullWidth minRows={4} variant=\"outlined\" label=\"Comment...\" multiline value={comment} onChange={(e) => setComment(e.target.value)} />\r\n          <Button style={{ marginTop: \"10px\" }} fullWidth disabled={!comment} variant=\"contained\" onClick={handleCommentSubmit} color=\"primary\">\r\n            Comment\r\n          </Button>\r\n        </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentSection;\r\n","import React, { useEffect } from 'react'\r\nimport { Paper, Typography, CircularProgress, Divider } from '@material-ui/core'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport moment from 'moment' // js library dealing with time\r\n\r\nimport { useParams, useNavigate } from 'react-router-dom'\r\n\r\nimport useStyles from './styles'\r\n\r\nimport { getPost, getPostsBySearch } from '../../state/index'\r\n\r\nimport CommentSection from './CommentSection'\r\n\r\nconst PostDetails = () => {\r\n\r\n  const { post, data, isLoading } = useSelector((state) => state.app.posts)\r\n  const dispatch = useDispatch()\r\n  const navigate = useNavigate()\r\n  const { id } = useParams()\r\n\r\n  const classes = useStyles()\r\n\r\n  useEffect(() => {\r\n    if(!post)\r\n    dispatch(getPost(id));\r\n  }, [id])\r\n\r\n  useEffect(() => {\r\n    if (post) {\r\n      dispatch(getPostsBySearch({ search: 'none', tags: post?.tags.join(',') }))\r\n    }\r\n  }, [post])\r\n\r\n  if (!post) return null\r\n\r\n  if (isLoading) {\r\n    return <Paper elevation={6} className={classes.loadingPaper}>\r\n      <CircularProgress size=\"7em\" />\r\n    </Paper>\r\n  }\r\n\r\n  const recommendedPosts = data.filter((item) => item._id !== id)\r\n\r\n  return (\r\n    <Paper style={{ padding: '20px', borderRadius: '15px' }} elevation={6}>\r\n      <div className={classes.card}>\r\n        <div className={classes.section}>\r\n          <Typography variant=\"h3\" component=\"h2\">{post.title}</Typography>\r\n          <Typography gutterBottom variant=\"h6\" color=\"textSecondary\" component=\"h2\">{post.tags.map((tag) => `#${tag} `)}</Typography>\r\n          <Typography gutterBottom variant=\"body1\" component=\"p\">{post.caption}</Typography>\r\n          <Typography variant=\"h6\">Created by: {post.name}</Typography>\r\n          <Typography variant=\"body1\">{moment(post.createdAt).fromNow()}</Typography>\r\n          <Divider style={{ margin: '20px 0' }} />\r\n          <Typography variant=\"body1\"><strong>Realtime Chat - coming soon!</strong></Typography>\r\n          <Divider style={{ margin: '20px 0' }} />\r\n          <CommentSection post={post} />\r\n          <Divider style={{ margin: '20px 0' }} />\r\n        </div>\r\n        <div className={classes.imageSection}>\r\n          <img className={classes.media} src={post.selectedFile || 'https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png'} alt={post.title} />\r\n        </div>\r\n      </div>\r\n      {recommendedPosts.length && (\r\n        <div className={classes.section}>\r\n          <Typography gutterBottom variant=\"h5\">You might also like:</Typography>\r\n          <Divider />\r\n          <div className={classes.recommendedPosts}>\r\n            {recommendedPosts.map(({ title, message, name, likes, selectedFile, _id }) => (\r\n              <div style={{ margin: '20px', cursor: 'pointer' }} onClick={() => navigate(`/posts/${_id}`)} key={_id}>\r\n                <Typography gutterBottom variant=\"h6\">{title}</Typography>\r\n                <Typography gutterBottom variant=\"subtitle2\">{name}</Typography>\r\n                <Typography gutterBottom variant=\"subtitle2\">{message}</Typography>\r\n                <Typography gutterBottom variant=\"subtitle1\">Likes: {likes.length}</Typography>\r\n                <img src={selectedFile} width=\"200px\" />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default PostDetails","import { getAuth } from \"firebase/auth\";\r\nimport firebase from \"firebase/compat/app\";\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: process.env.FIREBASE_API,\r\n  authDomain: \"membook.firebaseapp.com\",\r\n  projectId: \"membook\",\r\n  storageBucket: \"membook.appspot.com\",\r\n  messagingSenderId: \"163298352328\",\r\n  appId: \"1:163298352328:web:3f4bc2776997d72279d9fd\",\r\n  measurementId: \"G-3C6P6JJ4JW\",\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = firebase.initializeApp(firebaseConfig);\r\n\r\nexport const auth = getAuth();\r\n","import React from \"react\";\r\nimport { Container } from \"@material-ui/core\";\r\nimport { Routes, Route, Navigate } from \"react-router-dom\";\r\nimport { signInWithPopup, GoogleAuthProvider } from \"firebase/auth\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport Home from \"./components/Home/Home\";\r\nimport Auth from \"./components/Auth/Auth\";\r\nimport PostDetails from \"./components/PostDetails/PostDetails\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setLogin, setLogout } from \"./state\";\r\n\r\nimport { auth } from \"./firebase\";\r\n\r\nconst App = () => {\r\n\r\n  const googleProvider = new GoogleAuthProvider();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const user = useSelector((state) => state.app.user);\r\n\r\n  const signInWithGoogle = async () => {\r\n    !user &&\r\n      signInWithPopup(auth, googleProvider)\r\n        .then((result) => {\r\n          // This gives you a Google Access Token. You can use it to access the Google API.\r\n          const credential = GoogleAuthProvider.credentialFromResult(result);\r\n          const token = credential.idToken;\r\n          dispatch(setLogin({...result.user, token}));\r\n          navigate(\"/\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.message);\r\n        });\r\n  };\r\n\r\n  const logout = () => {\r\n    dispatch(setLogout());\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"token\");\r\n  };\r\n\r\n  return (\r\n      <Container maxWidth=\"xl\">\r\n        <Navbar logout={logout} />\r\n        <Routes>\r\n          <Route path=\"/\" element={<Navigate to=\"/posts\" />} />\r\n          <Route path=\"/posts\" element={<Home />} />\r\n          <Route path=\"/posts/search\" element={<Home />} />\r\n          <Route path=\"/posts/:id\" element={<PostDetails />} />\r\n          <Route path=\"/auth\" element={!user ? <Auth signInWithGoogle={signInWithGoogle} /> : <Navigate to=\"/posts\" /> } />\r\n        </Routes>\r\n      </Container>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport appReducer from './state/index'\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    app: appReducer,\r\n  }\r\n})","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nimport App from \"./App\";\r\n\r\nimport { Provider } from \"react-redux\"; // keep track of store\r\nimport store from './store'\r\n\r\nimport \"./index.css\";\r\n\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n  <Provider store={store}>\r\n      <App />\r\n  </Provider>\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// proxy is used to avoid CORS error in package.json\r\n"],"sourceRoot":""}